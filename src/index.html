<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'">
  <title>N-NDamon</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      font-family: sans-serif;
      background-color: transparent !important;
      width: 100%;
      height: 100%;
    }
    
    #mascot {
      width: 100px;
      height: 100px;
      background-color: rgba(0, 255, 0, 0.7) !important;
      border-radius: 50% !important;
      margin: 50px auto;
      position: relative;
      cursor: pointer;
      z-index: 1000;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
      display: block !important;
    }
    
    #speech-bubble {
      position: absolute;
      background-color: white;
      border-radius: 15px;
      padding: 10px;
      max-width: 150px;
      top: -70px;
      left: -25px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
      opacity: 0;
      transition: opacity 0.3s ease;
      z-index: 1001;
      display: block;
    }
    
    #speech-bubble:after {
      content: '';
      position: absolute;
      bottom: -15px;
      right: 30px;
      border-width: 15px 10px 0;
      border-style: solid;
      border-color: white transparent;
    }
    
    #speech-bubble.visible {
      opacity: 1 !important;
      display: block !important;
    }
  </style>
</head>
<body style="background: transparent; overflow: hidden;">
  <div style="width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; background: transparent;">
    <div id="mascot" style="background-color: rgba(0, 255, 0, 0.7); border-radius: 50%;">
      <div id="speech-bubble" style="background-color: white; border-radius: 15px; padding: 10px;"></div>
    </div>
  </div>

  <script>
    // マスコットの要素を取得
    const mascot = document.getElementById('mascot');
    const speechBubble = document.getElementById('speech-bubble');

    // 吹き出しに表示するメッセージの配列
    const messages = [
      'こんにちはなのだ',
      '死ねなのだ',
      'お元気なのだ？',
      '今日もいい天気なのだ',
      'プログラミング楽しいのだ',
      '眠いのだ...',
      'お腹すいたのだ'
    ];

    // マスコットがクリックされたときの処理
    mascot.addEventListener('click', () => {
      // ランダムなメッセージを選択
      const randomIndex = Math.floor(Math.random() * messages.length);
      const message = messages[randomIndex];
      
      // 吹き出しにメッセージを表示
      speechBubble.textContent = message;
      speechBubble.classList.add('visible');
      
      // 3秒後に吹き出しを非表示にする
      setTimeout(() => {
        speechBubble.classList.remove('visible');
      }, 3000);
    });

    // 即時実行関数で囲んで確実に実行
    (function() {
      console.log('Script executed');
      
      // 最初のメッセージを表示（即時）
      speechBubble.textContent = 'こんにちはなのだ、死ねなのだ';
      speechBubble.style.opacity = '1';
      speechBubble.style.display = 'block';
      speechBubble.classList.add('visible');
      
      // DOMContentLoadedイベント
      document.addEventListener('DOMContentLoaded', () => {
        console.log('DOM loaded');
        speechBubble.textContent = 'こんにちはなのだ、死ねなのだ';
        speechBubble.style.opacity = '1';
        speechBubble.style.display = 'block';
        speechBubble.classList.add('visible');
      });

      // ウィンドウのロード完了時
      window.onload = () => {
        console.log('Window loaded');
        speechBubble.textContent = 'こんにちはなのだ、死ねなのだ';
        speechBubble.style.opacity = '1';
        speechBubble.style.display = 'block';
        speechBubble.classList.add('visible');
      };
    })();
  </script>
</body>
</html>